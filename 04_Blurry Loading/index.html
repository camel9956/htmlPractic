<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="bg"></div>
        <div class="loading-text">0%</div>
    

    <script>
        let loadText = document.querySelector(".loading-text");
        let bg = document.querySelector(".bg");

        let load = 0;
        let int = setInterval(blurring,30);
        function blurring (){
            load++;
            console.log(load);

            if (load > 99){
                clearInterval(int);
            }
            //文字崁入
            loadText.innerText = `${load}%`;
            //文字透明度
            loadText.style.opacity = scale(load, 0, 100, 1, 0);
            bg.style.filter = `blur(${scale(load, 0, 100, 30 ,0)}px)`;

            function scale(numbr, inMin, inMax, outMin, outMax){
                return (((numbr - inMin) * (outMax -outMin)) / (inMax - inMin) + outMin);
            }
        }

        
        
    </script>
    
</body>

</html>